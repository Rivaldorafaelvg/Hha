<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7207681926787318"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClinIQ | Plataforma de Conhecimento M√©dico</title>
    <style>
        :root {
            --primary-color: #0077cc;
            --secondary-color: #2ecc71;
            --dark-color: #333;
            --light-color: #f4f4f4;
            --danger-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --border-radius: 5px;
            --box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            
            /* Vari√°veis para o modo claro (padr√£o) */
            --bg-color: #f9f9f9;
            --text-color: #333;
            --card-bg: #fff;
            --header-bg: #fff;
            --border-color: #ddd;
        }

        /* Modo escuro */
        .dark-mode {
            --bg-color: #1a1a2e;
            --text-color: #f0f0f0;
            --card-bg: #16213e;
            --header-bg: #0f3460;
            --border-color: #374151;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: var(--transition);
            min-height: 100vh;
        }

        header {
            background-color: var(--header-bg);
            box-shadow: var(--box-shadow);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            transition: var(--transition);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
            cursor: pointer;
        }

        .logo span {
            color: var(--secondary-color);
        }

        nav {
            display: flex;
            gap: 1rem;
        }

        .nav-item, .btn {
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            text-decoration: none;
            transition: var(--transition);
            font-weight: 500;
        }

        .nav-item {
            color: var(--text-color);
        }

        .nav-item:hover {
            background-color: rgba(0, 119, 204, 0.1);
        }

        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #005fa3;
        }

        .btn-secondary {
            background-color: var(--secondary-color);
        }

        .btn-secondary:hover {
            background-color: #25a25a;
        }

        .btn-danger {
            background-color: var(--danger-color);
        }

        .btn-danger:hover {
            background-color: #c0392b;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .settings-bar {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .theme-switch {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .language-selector {
            padding: 0.25rem 0.5rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        main {
            display: none;
            margin-top: 1rem;
        }

        #landingPage {
            display: block;
        }

        .hero {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 2rem 0;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin-bottom: 2rem;
        }

        .search-bar {
            width: 100%;
            max-width: 600px;
            margin: 2rem auto;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 1rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            background-color: var(--card-bg);
            color: var(--text-color);
            font-size: 1rem;
        }

        .search-results {
            margin-top: 1rem;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 1rem;
            border: 1px solid var(--border-color);
            display: none;
            max-height: 400px;
            overflow-y: auto;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .feature-card {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            border: 1px solid var(--border-color);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .feature-card h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        /* Formul√°rios */
        .form-container {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            max-width: 500px;
            margin: 0 auto;
            border: 1px solid var(--border-color);
        }

        .form-title {
            text-align: center;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: 1rem;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }

        .form-link {
            color: var(--primary-color);
            text-decoration: none;
        }

        .form-link:hover {
            text-decoration: underline;
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            display: none;
        }

        .modal {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 2rem;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            border: 1px solid var(--border-color);
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
        }

        /* Quiz */
        .quiz-container {
            padding: 1rem;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .quiz-question {
            background-color: var(--card-bg);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-color);
        }

        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .quiz-option {
            background-color: var(--bg-color);
            padding: 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--border-color);
        }

        .quiz-option:hover {
            background-color: rgba(0, 119, 204, 0.1);
        }

        .quiz-option.correct {
            background-color: var(--success-color);
            color: white;
        }

        .quiz-option.incorrect {
            background-color: var(--danger-color);
            color: white;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }

        /* Calculadora M√©dica */
        .calculator-tabs {
            display: flex;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .calculator-tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }

        .calculator-tab.active {
            border-bottom: 2px solid var(--primary-color);
            color: var(--primary-color);
            font-weight: bold;
        }

        .calculator-content {
            display: none;
        }

        .calculator-content.active {
            display: block;
        }

        .calculator-result {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: var(--bg-color);
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
        }

        /* Hist√≥ria Cl√≠nica */
        .clinical-history-form {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        .history-section {
            background-color: var(--card-bg);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
        }

        .history-section h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .saved-histories {
            margin-top: 2rem;
        }

        .history-card {
            background-color: var(--card-bg);
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--border-color);
        }

        .history-card:hover {
            box-shadow: var(--box-shadow);
        }

        /* Bot√£o Voltar */
        .back-button {
            display: inline-flex;
            align-items: center;
            margin-bottom: 1rem;
            color: var(--primary-color);
            cursor: pointer;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--primary-color);
            background-color: transparent;
            transition: var(--transition);
        }
        
        .back-button:hover {
            background-color: rgba(0, 119, 204, 0.1);
        }
        
        .back-button i {
            margin-right: 0.5rem;
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .features {
                grid-template-columns: 1fr;
            }

            .quiz-options {
                grid-template-columns: 1fr;
            }

            nav {
                flex-direction: column;
                position: absolute;
                top: 100%;
                right: 0;
                background-color: var(--card-bg);
                box-shadow: var(--box-shadow);
                border-radius: var(--border-radius);
                padding: 1rem;
                display: none;
            }

            nav.active {
                display: flex;
            }

            .menu-toggle {
                display: block;
                background: none;
                border: none;
                font-size: 1.5rem;
                cursor: pointer;
                color: var(--text-color);
            }
        }

        @media (max-width: 500px) {
            .form-footer {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo" id="logoHome">Clin<span>IQ</span></div>
            <button class="menu-toggle" id="menuToggle">‚ò∞</button>
            <nav id="mainNav">
                <a href="#" class="nav-item" data-lang="home" data-target="landingPage">In√≠cio</a>
                <a href="#" class="nav-item" data-lang="quiz" data-target="quizPage">Quiz</a>
                <a href="#" class="nav-item" data-lang="calculator" data-target="calculatorPage">Calculadora</a>
                <a href="#" class="nav-item" data-lang="history" data-target="clinicalHistoryPage">Hist√≥ria Cl√≠nica</a>
                <button id="loginBtn" class="btn" data-lang="login">Entrar</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="settings-bar">
            <div class="theme-switch">
                <span data-lang="theme">Tema</span>
                <button id="themeToggle" class="btn">‚òÄÔ∏è</button>
            </div>
            <select id="languageSelector" class="language-selector">
                <option value="pt">Portugu√™s</option>
                <option value="en">English</option>
                <option value="es">Espa√±ol</option>
                <option value="fr">Fran√ßais</option>
            </select>
        </div>

        <!-- P√°gina inicial -->
        <main id="landingPage">
            <div class="hero">
                <h1 data-lang="hero-title">Bem-vindo ao ClinIQ</h1>
                <p data-lang="hero-subtitle">A plataforma inteligente para estudantes e profissionais de medicina.</p>
                <div class="search-bar">
                    <input type="text" id="medicalSearch" placeholder="Pesquise termos m√©dicos, doen√ßas, sintomas..." data-lang="search-placeholder">
                    <div class="search-results" id="searchResults"></div>
                </div>
            </div>
            <div class="features">
                <div class="feature-card" data-target="quizPage">
                    <div class="feature-icon">üìù</div>
                    <h3 data-lang="quiz-feature">Quiz M√©dico</h3>
                    <p data-lang="quiz-description">Teste seus conhecimentos com perguntas interativas no estilo "Quem Quer Ser Milion√°rio".</p>
                </div>
                <div class="feature-card" data-target="calculatorPage">
                    <div class="feature-icon">üßÆ</div>
                    <h3 data-lang="calculator-feature">Calculadora M√©dica</h3>
                    <p data-lang="calculator-description">Calcule o IMC e dosagens de medicamentos com precis√£o.</p>
                </div>
                <div class="feature-card" data-target="clinicalHistoryPage">
                    <div class="feature-icon">üìã</div>
                    <h3 data-lang="history-feature">Hist√≥ria Cl√≠nica</h3>
                    <p data-lang="history-description">Crie e gerencie hist√≥rias cl√≠nicas completas com diagn√≥stico autom√°tico.</p>
                </div>
            </div>
        </main>

        <!-- P√°gina de Quiz -->
        <main id="quizPage">
            <button class="back-button" id="quizBackBtn"><i>‚Üê</i> <span data-lang="back-button">Voltar</span></button>
            <div class="quiz-container">
                <div class="quiz-header">
                    <h2 data-lang="quiz-title">Quiz M√©dico</h2>
                    <p data-lang="quiz-instructions">Selecione a resposta correta para cada pergunta.</p>
                </div>
                <div class="quiz-question">
                    <h3 id="questionText">Carregando pergunta...</h3>
                </div>
                <div class="quiz-options" id="quizOptions">
                    <!-- Op√ß√µes geradas dinamicamente -->
                </div>
                <div class="quiz-controls">
                    <span id="quizProgress">Pergunta 1/10</span>
                    <button id="nextQuestion" class="btn" data-lang="next-question">Pr√≥xima</button>
                </div>
            </div>
        </main>

        <!-- P√°gina de Calculadora -->
        <main id="calculatorPage">
            <button class="back-button" id="calculatorBackBtn"><i>‚Üê</i> <span data-lang="back-button">Voltar</span></button>
            <h2 class="form-title" data-lang="calculator-title">Calculadora M√©dica</h2>
            <div class="calculator-tabs">
                <div class="calculator-tab active" data-tab="imc" data-lang="imc-tab">IMC</div>
                <div class="calculator-tab" data-tab="dosage" data-lang="dosage-tab">Dosagem</div>
            </div>

            <div class="calculator-content active" id="imcCalculator">
                <div class="form-container">
                    <div class="form-group">
                        <label for="weight" data-lang="weight">Peso (kg)</label>
                        <input type="number" id="weight" step="0.1" min="0">
                    </div>
                    <div class="form-group">
                        <label for="height" data-lang="height">Altura (cm)</label>
                        <input type="number" id="height" step="0.1" min="0">
                    </div>
                    <button id="calculateImc" class="btn" data-lang="calculate">Calcular</button>
                    <div class="calculator-result" id="imcResult"></div>
                </div>
            </div>

            <div class="calculator-content" id="dosageCalculator">
                <div class="form-container">
                    <div class="form-group">
                        <label for="medication" data-lang="medication">Medicamento</label>
                        <select id="medication">
                            <option value="paracetamol" data-lang="paracetamol">Paracetamol</option>
                            <option value="ibuprofen" data-lang="ibuprofen">Ibuprofeno</option>
                            <option value="amoxicillin" data-lang="amoxicillin">Amoxicilina</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="patientWeight" data-lang="patient-weight">Peso do paciente (kg)</label>
                        <input type="number" id="patientWeight" step="0.1" min="0">
                    </div>
                    <div class="form-group">
                        <label for="patientAge" data-lang="patient-age">Idade do paciente (anos)</label>
                        <input type="number" id="patientAge" min="0">
                    </div>
                    <button id="calculateDosage" class="btn" data-lang="calculate">Calcular</button>
                    <div class="calculator-result" id="dosageResult"></div>
                </div>
            </div>
        </main>

        <!-- P√°gina de Hist√≥ria Cl√≠nica -->
        <main id="clinicalHistoryPage">
            <button class="back-button" id="historyBackBtn"><i>‚Üê</i> <span data-lang="back-button">Voltar</span></button>
            <h2 class="form-title" data-lang="clinical-history-title">Hist√≥ria Cl√≠nica</h2>
            
            <div class="clinical-history-form">
                <div class="history-section">
                    <h3 data-lang="patient-info">Identifica√ß√£o do Paciente</h3>
                    <div class="form-group">
                        <label for="patientName" data-lang="patient-name">Nome do Paciente</label>
                        <input type="text" id="patientName">
                    </div>
                    <div class="form-group">
                        <label for="patientAge2" data-lang="patient-age">Idade</label>
                        <input type="number" id="patientAge2" min="0">
                    </div>
                    <div class="form-group">
                        <label for="patientGender" data-lang="patient-gender">G√™nero</label>
                        <select id="patientGender">
                            <option value="male" data-lang="male">Masculino</option>
                            <option value="female" data-lang="female">Feminino</option>
                            <option value="other" data-lang="other">Outro</option>
                        </select>
                    </div>
                </div>

                <div class="history-section">
                    <h3 data-lang="main-complaint">Queixa Principal</h3>
                    <div class="form-group">
                        <textarea id="mainComplaint"></textarea>
                    </div>
                </div>

                <div class="history-section">
                    <h3 data-lang="current-illness">Hist√≥ria da Doen√ßa Atual</h3>
                    <div class="form-group">
                        <textarea id="currentIllness"></textarea>
                    </div>
                </div>

                <div class="history-section">
                    <h3 data-lang="past-history">Hist√≥ria Patol√≥gica Pregressa</h3>
                    <div class="form-group">
                        <textarea id="pastHistory"></textarea>
                    </div>
                </div>

                <div class="history-section">
                    <h3 data-lang="family-history">Hist√≥ria Familiar</h3>
                    <div class="form-group">
                        <textarea id="familyHistory"></textarea>
                    </div>
                </div>

                <div class="history-section">
                    <h3 data-lang="personal-history">Hist√≥ria Pessoal</h3>
                    <div class="form-group">
                        <textarea id="personalHistory"></textarea>
                    </div>
                </div>

                <button id="generateDiagnosis" class="btn" data-lang="generate-diagnosis">Gerar Diagn√≥stico</button>
                <button id="saveHistory" class="btn btn-secondary" data-lang="save-history">Salvar Hist√≥ria</button>

                <div class="history-section" id="diagnosisResults" style="display: none;">
                    <h3 data-lang="diagnosis-results">Resultados do Diagn√≥stico</h3>
                    <div class="form-group">
                        <label data-lang="provisional-diagnosis">Diagn√≥stico Provis√≥rio</label>
                        <p id="provisionalDiagnosis"></p>
                    </div>
                    <div class="form-group">
                        <label data-lang="definitive-diagnosis">Diagn√≥stico Definitivo</label>
                        <p id="definitiveDiagnosis"></p>
                    </div>
                    <div class="form-group">
                        <label data-lang="differential-diagnosis">Diagn√≥stico Diferencial</label>
                        <p id="differentialDiagnosis"></p>
                    </div>
                    <div class="form-group">
                        <label data-lang="diagnostic-aids">Meios Auxiliares de Diagn√≥stico</label>
                        <p id="diagnosticAids"></p>
                    </div>
                    <div class="form-group">
                        <label data-lang="treatment">Tratamento</label>
                        <p id="treatment"></p>
                    </div>
                </div>
            </div>

            <div class="saved-histories">
                <h3 data-lang="saved-histories">Hist√≥rias Guardadas</h3>
                <div id="historiesList">
                    <!-- Hist√≥rias salvas ser√£o mostradas aqui -->
                </div>
            </div>
        </main>
    </div>

    <!-- Modal de Login/Cadastro -->
    <div class="modal-overlay" id="loginModal">
        <div class="modal">
            <button class="modal-close" id="closeLoginModal">√ó</button>
            <div id="loginForm">
                <h2 class="form-title" data-lang="login-title">Entrar</h2>
                <div class="form-group">
                    <label for="loginEmail" data-lang="email">E-mail</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword" data-lang="password">Senha</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <div class="form-footer">
                    <a href="#" id="showRegisterForm" class="form-link" data-lang="no-account">N√£o tem conta? Cadastre-se</a>
                    <button id="submitLogin" class="btn" data-lang="login">Entrar</button>
                </div>
            </div>
            <div id="registerForm" style="display: none;">
                <h2 class="form-title" data-lang="register-title">Cadastro</h2>
                <div class="form-group">
                    <label for="registerName" data-lang="name">Nome</label>
                    <input type="text" id="registerName" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail" data-lang="email">E-mail</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword" data-lang="password">Senha</label>
                    <input type="password" id="registerPassword" required>
                </div>
                <div class="form-group">
                    <label for="confirmPassword" data-lang="confirm-password">Confirmar Senha</label>
                    <input type="password" id="confirmPassword" required>
                </div>
                <div class="form-footer">
                    <a href="#" id="showLoginForm" class="form-link" data-lang="has-account">J√° tem conta? Fa√ßa login</a>
                    <button id="submitRegister" class="btn" data-lang="register">Cadastrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de exibi√ß√£o de hist√≥rico cl√≠nico -->
    <div class="modal-overlay" id="historyViewModal">
        <div class="modal">
            <button class="modal-close" id="closeHistoryViewModal">√ó</button>
            <h2 class="form-title" data-lang="history-details">Detalhes da Hist√≥ria Cl√≠nica</h2>
            <div id="historyViewContent">
                <!-- Conte√∫do do hist√≥rico ser√° carregado aqui -->
            </div>
        </div>
    </div>

    <script>
        // Configura√ß√£o de idiomas
        const translations = {
            pt: {
                "home": "In√≠cio",
                "quiz": "Quiz",
                "calculator": "Calculadora",
                "history": "Hist√≥ria Cl√≠nica",
                "login": "Entrar",
                "theme": "Tema",
                "hero-title": "Bem-vindo ao ClinIQ",
                "hero-subtitle": "A plataforma inteligente para estudantes e profissionais de medicina.",
                "search-placeholder": "Pesquise termos m√©dicos, doen√ßas, sintomas...",
                "quiz-feature": "Quiz M√©dico",
                "quiz-description": "Teste seus conhecimentos com perguntas interativas no estilo 'Quem Quer Ser Milion√°rio'.",
                "calculator-feature": "Calculadora M√©dica",
                "calculator-description": "Calcule o IMC e dosagens de medicamentos com precis√£o.",
                "history-feature": "Hist√≥ria Cl√≠nica",
                "history-description": "Crie e gerencie hist√≥rias cl√≠nicas completas com diagn√≥stico autom√°tico.",
                "quiz-title": "Quiz M√©dico",
                "quiz-instructions": "Selecione a resposta correta para cada pergunta.",
                "next-question": "Pr√≥xima",
                "calculator-title": "Calculadora M√©dica",
                "imc-tab": "IMC",
                "dosage-tab": "Dosagem",
                "weight": "Peso (kg)",
                "height": "Altura (cm)",
                "calculate": "Calcular",
                "medication": "Medicamento",
                "paracetamol": "Paracetamol",
                "ibuprofen": "Ibuprofeno",
                "amoxicillin": "Amoxicilina",
                "patient-weight": "Peso do paciente (kg)",
                "patient-age": "Idade do paciente (anos)",
                "clinical-history-title": "Hist√≥ria Cl√≠nica",
                "patient-info": "Identifica√ß√£o do Paciente",
                "patient-name": "Nome do Paciente",
                "patient-gender": "G√™nero",
                "male": "Masculino",
                "female": "Feminino",
                "other": "Outro",
                "main-complaint": "Queixa Principal",
                "current-illness": "Hist√≥ria da Doen√ßa Atual",
                "past-history": "Hist√≥ria Patol√≥gica Pregressa",
                "family-history": "Hist√≥ria Familiar",
                "personal-history": "Hist√≥ria Pessoal",
                "generate-diagnosis": "Gerar Diagn√≥stico",
                "save-history": "Salvar Hist√≥ria",
                "diagnosis-results": "Resultados do Diagn√≥stico",
                "provisional-diagnosis": "Diagn√≥stico Provis√≥rio",
                "definitive-diagnosis": "Diagn√≥stico Definitivo",
                "differential-diagnosis": "Diagn√≥stico Diferencial",
                "diagnostic-aids": "Meios Auxiliares de Diagn√≥stico",
                "treatment": "Tratamento",
                "saved-histories": "Hist√≥rias Guardadas",
                "login-title": "Entrar",
                "email": "E-mail",
                "password": "Senha",
                "no-account": "N√£o tem conta? Cadastre-se",
                "register-title": "Cadastro",
                "name": "Nome",
                "confirm-password": "Confirmar Senha",
                "has-account": "J√° tem conta? Fa√ßa login",
                "register": "Cadastrar",
                "history-details": "Detalhes da Hist√≥ria Cl√≠nica",
                "back-button": "Voltar"
            },
            en: {
                "home": "Home",
                "quiz": "Quiz",
                "calculator": "Calculator",
                "history": "Clinical History",
                "login": "Login",
                "theme": "Theme",
                "hero-title": "Welcome to ClinIQ",
                "hero-subtitle": "The intelligent platform for medical students and professionals.",
                "search-placeholder": "Search medical terms, diseases, symptoms...",
                "quiz-feature": "Medical Quiz",
                "quiz-description": "Test your knowledge with interactive questions in the 'Who Wants to Be a Millionaire' style.",
                "calculator-feature": "Medical Calculator",
                "calculator-description": "Calculate BMI and medication dosages with precision.",
                "history-feature": "Clinical History",
                "history-description": "Create and manage complete clinical histories with automatic diagnosis.",
                "quiz-title": "Medical Quiz",
                "quiz-instructions": "Select the correct answer for each question.",
                "next-question": "Next",
                "calculator-title": "Medical Calculator",
                "imc-tab": "BMI",
                "dosage-tab": "Dosage",
                "weight": "Weight (kg)",
                "height": "Height (cm)",
                "calculate": "Calculate",
                "medication": "Medication",
                "paracetamol": "Paracetamol",
                "ibuprofen": "Ibuprofen",
                "amoxicillin": "Amoxicillin",
                "patient-weight": "Patient weight (kg)",
                "patient-age": "Patient age (years)",
                "clinical-history-title": "Clinical History",
                "patient-info": "Patient Identification",
                "patient-name": "Patient Name",
                "patient-gender": "Gender",
                "male": "Male",
                "female": "Female",
                "other": "Other",
                "main-complaint": "Main Complaint",
                "current-illness": "History of Present Illness",
                "past-history": "Past Medical History",
                "family-history": "Family History",
                "personal-history": "Personal History",
                "generate-diagnosis": "Generate Diagnosis",
                "save-history": "Save History",
                "diagnosis-results": "Diagnosis Results",
                "provisional-diagnosis": "Provisional Diagnosis",
                "definitive-diagnosis": "Definitive Diagnosis",
                "differential-diagnosis": "Differential Diagnosis",
                "diagnostic-aids": "Diagnostic Aids",
                "treatment": "Treatment",
                "saved-histories": "Saved Histories",
                "login-title": "Login",
                "email": "Email",
                "password": "Password",
                "no-account": "Don't have an account? Register",
                "register-title": "Register",
                "name": "Name",
                "confirm-password": "Confirm Password",
                "has-account": "Already have an account? Login",
                "register": "Register",
                "history-details": "Clinical History Details",
                "back-button": "Back"
            },
            es: {
                "home": "Inicio",
                "quiz": "Cuestionario",
                "calculator": "Calculadora",
                "history": "Historia Cl√≠nica",
                "login": "Iniciar Sesi√≥n",
                "theme": "Tema",
                "hero-title": "Bienvenido a ClinIQ",
                "hero-subtitle": "La plataforma inteligente para estudiantes y profesionales de medicina.",
                "search-placeholder": "Buscar t√©rminos m√©dicos, enfermedades, s√≠ntomas...",
                "quiz-feature": "Cuestionario M√©dico",
                "quiz-description": "Ponga a prueba sus conocimientos con preguntas interactivas al estilo '¬øQui√©n Quiere Ser Millonario?'.",
                "calculator-feature": "Calculadora M√©dica",
                "calculator-description": "Calcule el IMC y dosis de medicamentos con precisi√≥n.",
                "history-feature": "Historia Cl√≠nica",
                "history-description": "Cree y gestione historias cl√≠nicas completas con diagn√≥stico autom√°tico.",
                "quiz-title": "Cuestionario M√©dico",
                "quiz-instructions": "Seleccione la respuesta correcta para cada pregunta.",
                "next-question": "Siguiente",
                "calculator-title": "Calculadora M√©dica",
                "imc-tab": "IMC",
                "dosage-tab": "Dosificaci√≥n",
                "weight": "Peso (kg)",
                "height": "Altura (cm)",
                "calculate": "Calcular",
                "medication": "Medicamento",
                "paracetamol": "Paracetamol",
                "ibuprofen": "Ibuprofeno",
                "amoxicillin": "Amoxicilina",
                "patient-weight": "Peso del paciente (kg)",
                "patient-age": "Edad del paciente (a√±os)",
                "clinical-history-title": "Historia Cl√≠nica",
                "patient-info": "Identificaci√≥n del Paciente",
                "patient-name": "Nombre del Paciente",
                "patient-gender": "G√©nero",
                "male": "Masculino",
                "female": "Femenino",
                "other": "Otro",
                "main-complaint": "Queja Principal",
                "current-illness": "Historia de la Enfermedad Actual",
                "past-history": "Historia Patol√≥gica Previa",
                "family-history": "Historia Familiar",
                "personal-history": "Historia Personal",
                "generate-diagnosis": "Generar Diagn√≥stico",
                "save-history": "Guardar Historia",
                "diagnosis-results": "Resultados del Diagn√≥stico",
                "provisional-diagnosis": "Diagn√≥stico Provisional",
                "definitive-diagnosis": "Diagn√≥stico Definitivo",
                "differential-diagnosis": "Diagn√≥stico Diferencial",
                "diagnostic-aids": "Medios Auxiliares de Diagn√≥stico",
                "treatment": "Tratamiento",
                "saved-histories": "Historias Guardadas",
                "login-title": "Iniciar Sesi√≥n",
                "email": "Correo Electr√≥nico",
                "password": "Contrase√±a",
                "no-account": "¬øNo tiene cuenta? Reg√≠strese",
                "register-title": "Registro",
                "name": "Nombre",
                "confirm-password": "Confirmar Contrase√±a",
                "has-account": "¬øYa tiene cuenta? Inicie sesi√≥n",
                "register": "Registrarse",
                "history-details": "Detalles de la Historia Cl√≠nica",
                "back-button": "Volver"
            },
            fr: {
                "home": "Accueil",
                "quiz": "Quiz",
                "calculator": "Calculatrice",
                "history": "Histoire Clinique",
                "login": "Connexion",
                "theme": "Th√®me",
                "hero-title": "Bienvenue sur ClinIQ",
                "hero-subtitle": "La plateforme intelligente pour les √©tudiants et professionnels de la m√©decine.",
                "search-placeholder": "Rechercher des termes m√©dicaux, maladies, sympt√¥mes...",
                "quiz-feature": "Quiz M√©dical",
                "quiz-description": "Testez vos connaissances avec des questions interactives dans le style 'Qui Veut Gagner des Millions'.",
                "calculator-feature": "Calculatrice M√©dicale",
                "calculator-description": "Calculez l'IMC et les dosages de m√©dicaments avec pr√©cision.",
                "history-feature": "Histoire Clinique",
                "history-description": "Cr√©ez et g√©rez des histoires cliniques compl√®tes avec diagnostic automatique.",
                "quiz-title": "Quiz M√©dical",
                "quiz-instructions": "S√©lectionnez la bonne r√©ponse pour chaque question.",
                "next-question": "Suivant",
                "calculator-title": "Calculatrice M√©dicale",
                "imc-tab": "IMC",
                "dosage-tab": "Dosage",
                "weight": "Poids (kg)",
                "height": "Taille (cm)",
                "calculate": "Calculer",
                "medication": "M√©dicament",
                "paracetamol": "Parac√©tamol",
                "ibuprofen": "Ibuprof√®ne",
                "amoxicillin": "Amoxicilline",
                "patient-weight": "Poids du patient (kg)",
                "patient-age": "√Çge du patient (ans)",
                "clinical-history-title": "Histoire Clinique",
                "patient-info": "Identification du Patient",
                "patient-name": "Nom du Patient",
                "patient-gender": "Genre",
                "male": "Masculin",
                "female": "F√©minin",
                "other": "Autre",
                "main-complaint": "Plainte Principale",
                "current-illness": "Histoire de la Maladie Actuelle",
                "past-history": "Ant√©c√©dents M√©dicaux",
                "family-history": "Histoire Familiale",
                "personal-history": "Histoire Personnelle",
                "generate-diagnosis": "G√©n√©rer Diagnostic",
                "save-history": "Sauvegarder Histoire",
                "diagnosis-results": "R√©sultats du Diagnostic",
                "provisional-diagnosis": "Diagnostic Provisoire",
                "definitive-diagnosis": "Diagnostic D√©finitif",
                "differential-diagnosis": "Diagnostic Diff√©rentiel",
                "diagnostic-aids": "Moyens Auxiliaires de Diagnostic",
                "treatment": "Traitement",
                "saved-histories": "Histoires Sauvegard√©es",
                "login-title": "Connexion",
                "email": "E-mail",
                "password": "Mot de passe",
                "no-account": "Pas de compte? Inscrivez-vous",
                "register-title": "Inscription",
                "name": "Nom",
                "confirm-password": "Confirmer le Mot de passe",
                "has-account": "D√©j√† un compte? Connectez-vous",
                "register": "S'inscrire",
                "history-details": "D√©tails de l'Histoire Clinique",
                "back-button": "Retour"
            }
        };

        // Base de dados de conhecimento m√©dico ampliada
        const medicalDatabase = {
            "dengue": {
                definition: "Doen√ßa viral transmitida pelo mosquito Aedes aegypti, caracterizada por febre alta, dores musculares e articulares, erup√ß√µes cut√¢neas e fadiga.",
                symptoms: "Febre alta (40¬∞C), dores intensas nos m√∫sculos e articula√ß√µes, dor retro-orbital, n√°useas, v√¥mitos, erup√ß√µes cut√¢neas, sangramento de mucosas, fadiga.",
                diagnosis: "Baseado em sintomas cl√≠nicos, hemograma (plaquetopenia, leucopenia), testes sorol√≥gicos para detec√ß√£o de anticorpos (IgM e IgG) e PCR para detec√ß√£o do v√≠rus.",
                treatment: "Tratamento de suporte: repouso, hidrata√ß√£o oral ou intravenosa, analg√©sicos (paracetamol). Evitar anti-inflamat√≥rios n√£o esteroides. Monitoramento de sinais de alarme e casos graves.",
                observations: "A dengue grave (anteriormente conhecida como dengue hemorr√°gica) pode levar a choque circulat√≥rio, sangramento grave e fal√™ncia de √≥rg√£os. Requer hospitaliza√ß√£o imediata."
            },
            "malaria": {
                definition: "Doen√ßa infecciosa causada por protozo√°rios do g√™nero Plasmodium, transmitidos pela picada do mosquito Anopheles feminino.",
                symptoms: "Ciclos de febre alta alternados com calafrios e sudorese intensa, dor de cabe√ßa, n√°useas, v√¥mitos, dor muscular e abdominal, anemia, icter√≠cia.",
                diagnosis: "Gota espessa e esfrega√ßo sangu√≠neo para visualiza√ß√£o do parasita, testes r√°pidos de diagn√≥stico (RDTs), PCR em casos espec√≠ficos.",
                treatment: "Varia de acordo com a esp√©cie de Plasmodium e regi√£o geogr√°fica. Geralmente inclui: cloroquina, artemisina e derivados, mefloquina, primaquina, atovaquona-proguanil, dependendo da resist√™ncia local.",
                observations: "A mal√°ria falciparum √© a mais grave e potencialmente fatal. Profilaxia com medicamentos √© recomendada para viajantes a √°reas end√™micas, junto com medidas de prote√ß√£o contra mosquitos."
            },
            "hipertens√£o": {
                definition: "Condi√ß√£o cr√¥nica caracterizada por eleva√ß√£o sustentada da press√£o arterial acima de 140/90 mmHg. Importante fator de risco para doen√ßas cardiovasculares.",
                symptoms: "Geralmente assintom√°tica (por isso chamada de 'assassina silenciosa'). Em casos graves: dor de cabe√ßa, tontura, vis√£o turva, epistaxe, dispneia aos esfor√ßos.",
                diagnosis: "Medi√ß√µes m√∫ltiplas da press√£o arterial em diferentes ocasi√µes. Monitoramento ambulatorial da press√£o arterial (MAPA) ou monitoriza√ß√£o residencial da press√£o arterial (MRPA) podem ser necess√°rios.",
                treatment: "Mudan√ßas no estilo de vida: dieta com restri√ß√£o de sal, exerc√≠cios regulares, redu√ß√£o do consumo de √°lcool, perda de peso. Medicamentos: diur√©ticos, inibidores da ECA, bloqueadores do receptor de angiotensina II, bloqueadores dos canais de c√°lcio, betabloqueadores.",
                observations: "Condi√ß√£o cr√¥nica que requer tratamento cont√≠nuo e acompanhamento m√©dico regular. Hipertens√£o n√£o controlada pode levar a AVE, infarto do mioc√°rdio, insufici√™ncia card√≠aca, doen√ßa renal cr√¥nica e retinopatia."
            },
            "diabetes": {
                definition: "Grupo de doen√ßas metab√≥licas caracterizadas por hiperglicemia resultante de defeitos na secre√ß√£o de insulina, a√ß√£o da insulina ou ambos.",
                symptoms: "Poli√∫ria, polidipsia, polifagia, perda de peso inexplicada, fadiga, vis√£o turva, infec√ß√µes recorrentes, feridas de cicatriza√ß√£o lenta.",
                diagnosis: "Glicemia de jejum ‚â• 126 mg/dL, hemoglobina glicada (HbA1c) ‚â• 6,5%, teste de toler√¢ncia √† glicose oral com resultado ‚â• 200 mg/dL ap√≥s 2 horas, ou glicemia casual ‚â• 200 mg/dL em paciente com sintomas.",
                treatment: "Diabetes tipo 1: insulinoterapia, educa√ß√£o para autogest√£o. Diabetes tipo 2: mudan√ßas no estilo de vida (dieta, exerc√≠cio, perda de peso), metformina como primeira linha, outros antidiab√©ticos orais, agonistas do GLP-1, insulina quando necess√°rio.",
                observations: "Controle adequado previne complica√ß√µes a longo prazo: retinopatia, nefropatia, neuropatia, doen√ßa cardiovascular. Educa√ß√£o do paciente √© fundamental para o sucesso do tratamento."
            },
            "tuberculose": {
                definition: "Doen√ßa infecciosa causada pela bact√©ria Mycobacterium tuberculosis, afetando principalmente os pulm√µes, mas podendo atingir outros √≥rg√£os.",
                symptoms: "Tosse persistente (mais de 3 semanas), produ√ß√£o de escarro (que pode conter sangue), febre vespertina, suores noturnos, perda de peso, fadiga, dor tor√°cica, dispneia.",
                diagnosis: "Teste de baciloscopia direta no escarro, cultura para micobact√©rias, teste molecular (GeneXpert MTB/RIF), teste tubercul√≠nico (PPD), radiografia de t√≥rax, histopatol√≥gico em TB extrapulmonar.",
                treatment: "Esquema b√°sico para adultos: Fase intensiva (2 meses): rifampicina, isoniazida, pirazinamida e etambutol. Fase de manuten√ß√£o (4 meses): rifampicina e isoniazida. Tratamento diretamente observado (TDO) √© recomendado.",
                observations: "O tratamento completo √© essencial para evitar resist√™ncia √†s drogas. Tuberculose multirresistente (TB-MDR) √© um desafio crescente. Investiga√ß√£o de contactantes √© fundamental para controle da transmiss√£o."
            },
            "pneumonia": {
                definition: "Infec√ß√£o que causa inflama√ß√£o nos alv√©olos pulmonares, podendo ser causada por bact√©rias, v√≠rus ou fungos.",
                symptoms: "Tosse produtiva, febre, calafrios, dispneia, dor tor√°cica, taquipneia, mal-estar, fadiga.",
                diagnosis: "Exame f√≠sico, radiografia de t√≥rax, hemograma, hemoculturas, cultura de escarro, PCR para pat√≥genos espec√≠ficos.",
                treatment: "Antibioticoterapia emp√≠rica inicial baseada na gravidade e epidemiologia local. Suporte respirat√≥rio quando necess√°rio. Adequa√ß√£o terap√™utica conforme resultado de culturas.",
                observations: "A pneumonia adquirida na comunidade (PAC) difere da pneumonia nosocomial em termos de agentes etiol√≥gicos e abordagem terap√™utica. O escore CURB-65 ou PSI ajuda a determinar a gravidade e necessidade de interna√ß√£o."
            },
            "asma": {
                definition: "Doen√ßa inflamat√≥ria cr√¥nica das vias a√©reas caracterizada por hiperreatividade br√¥nquica e obstru√ß√£o vari√°vel ao fluxo a√©reo.",
                symptoms: "Sibil√¢ncia, dispneia, tosse (frequentemente noturna), aperto no peito, sintomas que pioram com exerc√≠cio, exposi√ß√£o a al√©rgenos ou infec√ß√µes respirat√≥rias.",
                diagnosis: "Hist√≥ria cl√≠nica, espirometria com teste de broncodilata√ß√£o, teste de provoca√ß√£o br√¥nquica, medidas seriadas de pico de fluxo expirat√≥rio.",
                treatment: "Controle ambiental, broncodilatadores de curta a√ß√£o para resgate, corticosteroides inalat√≥rios como tratamento de manuten√ß√£o, broncodilatadores de longa a√ß√£o, modificadores de leucotrienos, anticorpos monoclonais em casos graves.",
                observations: "Classificada em graus de controle (controlada, parcialmente controlada, n√£o controlada) para guiar ajustes terap√™uticos. Plano de a√ß√£o escrito √© recomendado para manejo de crises."
            },
            "infarto": {
                definition: "Necrose do mioc√°rdio devido √† isquemia prolongada, geralmente resultante de obstru√ß√£o coronariana por trombo sobreposto a placa ateroscler√≥tica.",
                symptoms: "Dor tor√°cica intensa (em aperto, peso, queima√ß√£o), com irradia√ß√£o para bra√ßo esquerdo, mand√≠bula ou dorso, dispneia, n√°useas, v√¥mitos, sudorese, palpita√ß√µes, ansiedade, sensa√ß√£o de morte iminente.",
                diagnosis: "ECG (eleva√ß√£o do segmento ST ou novo bloqueio de ramo esquerdo), biomarcadores card√≠acos (troponina, CK-MB), ecocardiograma, cinecoronariografia.",
                treatment: "Reperfus√£o mioc√°rdica (angioplastia prim√°ria ou tromb√≥lise), antiagregantes plaquet√°rios, anticoagulantes, estatinas, betabloqueadores, inibidores da ECA, analgesia, oxigenoterapia se hipoxemia.",
                observations: "Tempo √© mioc√°rdio: quanto mais r√°pido o tratamento, melhores os resultados. O infarto sem eleva√ß√£o de ST (IAMSSST) tem abordagem terap√™utica e progn√≥stico diferentes do infarto com eleva√ß√£o de ST (IAMCSST)."
            },
            "avc": {
                definition: "Interrup√ß√£o s√∫bita do suprimento sangu√≠neo cerebral (AVC isqu√™mico) ou ruptura de vaso sangu√≠neo no c√©rebro (AVC hemorr√°gico), causando d√©ficit neurol√≥gico focal.",
                symptoms: "Fraqueza ou paralisia s√∫bita em face, bra√ßo ou perna (especialmente de um lado do corpo), dificuldade para falar ou compreender, confus√£o, turva√ß√£o visual, cefaleia intensa, vertigem, dificuldade para caminhar, perda de equil√≠brio ou coordena√ß√£o.",
                diagnosis: "Exame neurol√≥gico (escala NIHSS), neuroimagem (TC de cr√¢nio sem contraste, RM cerebral), angiografia cerebral, doppler de car√≥tidas e vertebrais, investiga√ß√£o card√≠aca.",
                treatment: "AVC isqu√™mico: trombol√≠tico (rtPA) at√© 4,5h do in√≠cio dos sintomas, trombectomia mec√¢nica em casos selecionados. AVC hemorr√°gico: controle de PA, revers√£o de anticoagula√ß√£o, drenagem neurocir√∫rgica quando indicado. Reabilita√ß√£o precoce para ambos.",
                observations: "O reconhecimento precoce dos sinais de AVC √© crucial. A estrat√©gia 'tempo √© c√©rebro' enfatiza a urg√™ncia no tratamento. Preven√ß√£o secund√°ria inclui antiagregantes/anticoagulantes, estatinas, controle de fatores de risco."
            },
            "alzheimer": {
                definition: "Doen√ßa neurodegenerativa progressiva caracterizada pela forma√ß√£o de placas amiloides e emaranhados neurofibrilares no c√©rebro, levando √† perda de fun√ß√£o neural.",
                symptoms: "Perda progressiva de mem√≥ria (inicialmente de fatos recentes), confus√£o, desorienta√ß√£o, mudan√ßas de personalidade, dificuldade com linguagem e racioc√≠nio abstrato, perda da capacidade de executar atividades di√°rias.",
                diagnosis: "Hist√≥ria cl√≠nica detalhada, testes neuropsicol√≥gicos, exclus√£o de outras causas de dem√™ncia, biomarcadores no LCR (beta-amiloide, tau), neuroimagem (atrofia hipocampal em RM, PET com marcadores de amiloide).",
                treatment: "Inibidores da colinesterase (donepezil, rivastigmina, galantamina), memantina. Manejo comportamental, terapia ocupacional, suporte familiar, adequa√ß√£o ambiental.",
                observations: "N√£o existe tratamento curativo. Terapias emergentes focam na remo√ß√£o de beta-amiloide e tau fosforilada. Cuidados paliativos s√£o importantes nas fases avan√ßadas. O diagn√≥stico definitivo s√≥ √© poss√≠vel post-mortem."
            },
            "depress√£o": {
                definition: "Transtorno de humor caracterizado por tristeza persistente, anedonia e altera√ß√µes som√°ticas e cognitivas que afetam significativamente a capacidade funcional do indiv√≠duo.",
                symptoms: "Humor deprimido na maior parte do dia, perda de interesse ou prazer, altera√ß√µes no sono e apetite, fadiga, sentimentos de inutilidade ou culpa excessiva, dificuldade de concentra√ß√£o, pensamentos recorrentes de morte ou suic√≠dio.",
                diagnosis: "Avalia√ß√£o cl√≠nica segundo crit√©rios diagn√≥sticos (DSM-5, CID-11), escalas de avalia√ß√£o (Hamilton, Beck, PHQ-9), exclus√£o de causas org√¢nicas (hipotireoidismo, anemia, etc.).",
                treatment: "Psicoterapia (TCC, interpessoal), antidepressivos (ISRS, IRSN, tric√≠clicos, outros), eletroconvulsoterapia em casos refrat√°rios ou graves, estimula√ß√£o magn√©tica transcraniana, atividade f√≠sica regular.",
                observations: "Doen√ßa subdiagnosticada e subtratada. Resposta ao tratamento geralmente demora 2-4 semanas. Risco de suic√≠dio deve ser sempre avaliado. Abordagem multidisciplinar melhora resultados. Comorbidades s√£o comuns (ansiedade, uso de subst√¢ncias)."
            },
            "epilepsia": {
                definition: "Dist√∫rbio neurol√≥gico cr√¥nico caracterizado pela predisposi√ß√£o a crises epil√©pticas recorrentes devido √† atividade el√©trica anormal no c√©rebro.",
                symptoms: "Variam conforme o tipo de crise: convuls√µes t√¥nico-cl√¥nicas, aus√™ncias, crises focais com altera√ß√£o da consci√™ncia, auras, mioclonias, crises at√¥nicas.",
                diagnosis: "Hist√≥ria cl√≠nica detalhada, descri√ß√£o de testemunhas, EEG (ictal e interictal), v√≠deo-EEG em casos selecionados, neuroimagem (RM cerebral), exames laboratoriais para causas secund√°rias.",
                treatment: "Anticonvulsivantes em monoterapia inicialmente, politerapia em casos refrat√°rios. Cirurgia em epilepsias focais refrat√°rias. Estimula√ß√£o do nervo vago, dieta cetog√™nica, neuromodula√ß√£o em casos selecionados.",
                observations: "Controle de fatores desencadeantes (priva√ß√£o de sono, estresse, √°lcool). Orienta√ß√µes sobre dire√ß√£o, nata√ß√£o, trabalho em altura. SUDEP (morte s√∫bita em epilepsia) √© rara mas importante causa de mortalidade."
            }
        };

        // API simulada para pesquisa m√©dica ilimitada
        const fetchMedicalInfo = async (query) => {
            // Simula√ß√£o de chamada API
            return new Promise((resolve) => {
                setTimeout(() => {
                    // Verifica se existe um termo m√©dico correspondente no banco de dados
                    for (const [term, info] of Object.entries(medicalDatabase)) {
                        if (term.includes(query.toLowerCase()) || query.toLowerCase().includes(term)) {
                            resolve({
                                type: 'term',
                                term: term,
                                data: info
                            });
                            return;
                        }
                    }
                    
                    // Se n√£o encontrar um termo exato, gera uma resposta mais ampla baseada em palavras-chave
                    if (query.toLowerCase().includes('febre') || query.toLowerCase().includes('dor')) {
                        resolve({
                            type: 'response',
                            data: `A ${query} pode estar relacionada a diferentes condi√ß√µes m√©dicas. Sintomas como febre e dor podem indicar processos infecciosos, inflamat√≥rios ou at√© mesmo condi√ß√µes mais graves. Recomenda-se uma avalia√ß√£o m√©dica para diagn√≥stico preciso.`
                        });
                    } else if (query.toLowerCase().includes('tratamento') || query.toLowerCase().includes('medicamento')) {
                        resolve({
                            type: 'response',
                            data: `Para informa√ß√µes sobre tratamento ou medicamentos para ${query}, √© necess√°rio um diagn√≥stico m√©dico adequado. A automedica√ß√£o pode mascarar sintomas ou causar efeitos adversos. Consulte um profissional de sa√∫de.`
                        });
                    } else if (query.toLowerCase().includes('exame') || query.toLowerCase().includes('diagn√≥stico')) {
                        resolve({
                            type: 'response',
                            data: `Os exames e m√©todos diagn√≥sticos para ${query} dependem da suspeita cl√≠nica. Podem incluir exames laboratoriais, de imagem ou procedimentos espec√≠ficos. Um m√©dico poder√° indicar os mais apropriados para seu caso.`
                        });
                    } else {
                        resolve({
                            type: 'response',
                            data: `N√£o foi poss√≠vel encontrar informa√ß√µes espec√≠ficas sobre "${query}". Para informa√ß√µes m√©dicas precisas, recomendamos consultar um profissional de sa√∫de ou literaturas m√©dicas confi√°veis.`
                        });
                    }
                }, 500); // Simula o tempo de resposta da API
            });
        };

        // Banco de dados do Quiz com mais perguntas
        const quizQuestions = [
            {
                question: "Qual √© o principal vetor de transmiss√£o da dengue?",
                options: ["Aedes aegypti", "Anopheles", "Culex", "Tsetse"],
                correctAnswer: 0
            },
            {
                question: "Qual das seguintes condi√ß√µes N√ÉO √© uma complica√ß√£o comum do diabetes mellitus n√£o controlado?",
                options: ["Retinopatia", "Nefropatia", "Hepatite", "Neuropatia perif√©rica"],
                correctAnswer: 2
            },
            {
                question: "Qual medicamento √© contraindicado para pacientes com suspeita de dengue?",
                options: ["Paracetamol", "Dipirona", "√Åcido acetilsalic√≠lico (AAS)", "Morfina"],
                correctAnswer: 2
            },
            {
                question: "Qual √© o agente causador da tuberculose?",
                options: ["Staphylococcus aureus", "Streptococcus pneumoniae", "Mycobacterium tuberculosis", "Haemophilus influenzae"],
                correctAnswer: 2
            },
            {
                question: "Qual √© a classifica√ß√£o de um paciente adulto com IMC de 32 kg/m¬≤?",
                options: ["Peso normal", "Sobrepeso", "Obesidade grau I", "Obesidade grau II"],
                correctAnswer: 2
            },
            {
                question: "Qual dos seguintes N√ÉO √© um sinal de alerta para dengue grave?",
                options: ["Dor abdominal intensa", "V√¥mitos persistentes", "Sangramento de mucosas", "Febre baixa"],
                correctAnswer: 3
            },
            {
                question: "Qual dos seguintes anti-hipertensivos √© contraindicado na gravidez?",
                options: ["Metildopa", "Nifedipina", "Inibidores da ECA", "Labetalol"],
                correctAnswer: 2
            },
            {
                question: "Qual √© o principal agente etiol√≥gico da mal√°ria grave?",
                options: ["Plasmodium vivax", "Plasmodium falciparum", "Plasmodium malariae", "Plasmodium ovale"],
                correctAnswer: 1
            },
            {
                question: "Em rela√ß√£o ao diabetes mellitus tipo 1, qual afirma√ß√£o √© VERDADEIRA?",
                options: ["Geralmente tem in√≠cio insidioso na idade adulta", "√â causado principalmente por resist√™ncia √† insulina", "Tratamento inicial √© com metformina", "Resulta da destrui√ß√£o autoimune das c√©lulas beta pancre√°ticas"],
                correctAnswer: 3
            },
            {
                question: "Qual √© a primeira escolha para tratamento farmacol√≥gico da hipertens√£o em um paciente com diabetes e microalbumin√∫ria?",
                options: ["Betabloqueadores", "Bloqueadores dos canais de c√°lcio", "Inibidores da ECA ou BRA", "Diur√©ticos tiaz√≠dicos"],
                correctAnswer: 2
            },
            {
                question: "Qual √© o tratamento de primeira linha para a depress√£o maior?",
                options: ["Benzodiazep√≠nicos", "Antipsic√≥ticos", "Inibidores Seletivos da Recapta√ß√£o de Serotonina (ISRS)", "Estabilizadores de humor"],
                correctAnswer: 2
            },
            {
                question: "Qual exame √© considerado padr√£o-ouro para o diagn√≥stico de tromboembolismo pulmonar?",
                options: ["Radiografia de t√≥rax", "D-d√≠mero", "Angiotomografia pulmonar", "Cintilografia V/Q"],
                correctAnswer: 2
            },
            {
                question: "Qual dos seguintes N√ÉO √© um crit√©rio diagn√≥stico para S√≠ndrome Metab√≥lica segundo o NCEP ATP III?",
                options: ["Circunfer√™ncia abdominal aumentada", "Triglic√©rides elevados", "Hiperglicemia de jejum", "N√≠veis elevados de √°cido √∫rico"],
                correctAnswer: 3
            },
            {
                question: "Qual √© o principal mecanismo de a√ß√£o da aspirina na preven√ß√£o de eventos cardiovasculares?",
                options: ["Inibi√ß√£o da agrega√ß√£o plaquet√°ria", "Vasodilata√ß√£o coronariana", "Redu√ß√£o dos n√≠veis de colesterol", "Bloqueio dos canais de c√°lcio"],
                correctAnswer: 0
            },
            {
                question: "Qual √© o pat√≥geno mais comum nas infec√ß√µes do trato urin√°rio n√£o complicadas?",
                options: ["Staphylococcus saprophyticus", "Escherichia coli", "Klebsiella pneumoniae", "Enterococcus faecalis"],
                correctAnswer: 1
            }
        ];

        // Banco de dados das hist√≥rias cl√≠nicas (inicialmente vazio)
        let savedHistories = [];

        // Usu√°rios (simula√ß√£o de banco de dados)
        let users = [];
        let currentUser = null;

        // Elementos DOM
        document.addEventListener('DOMContentLoaded', function() {
            // Navega√ß√£o
            const logoHome = document.getElementById('logoHome');
            const menuToggle = document.getElementById('menuToggle');
            const mainNav = document.getElementById('mainNav');
            const navItems = document.querySelectorAll('.nav-item');
            const featureCards = document.querySelectorAll('.feature-card');
            const mainSections = document.querySelectorAll('main');
            
            // Bot√µes de voltar
            const quizBackBtn = document.getElementById('quizBackBtn');
            const calculatorBackBtn = document.getElementById('calculatorBackBtn');
            const historyBackBtn = document.getElementById('historyBackBtn');

            // Login e cadastro
            const loginBtn = document.getElementById('loginBtn');
            const loginModal = document.getElementById('loginModal');
            const closeLoginModal = document.getElementById('closeLoginModal');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const showRegisterForm = document.getElementById('showRegisterForm');
            const showLoginForm = document.getElementById('showLoginForm');
            const submitLogin = document.getElementById('submitLogin');
            const submitRegister = document.getElementById('submitRegister');

            // Tema e idioma
            const themeToggle = document.getElementById('themeToggle');
            const languageSelector = document.getElementById('languageSelector');

            // Pesquisa m√©dica
            const medicalSearch = document.getElementById('medicalSearch');
            const searchResults = document.getElementById('searchResults');

            // Quiz
            const quizOptions = document.getElementById('quizOptions');
            const questionText = document.getElementById('questionText');
            const nextQuestion = document.getElementById('nextQuestion');
            const quizProgress = document.getElementById('quizProgress');
            let currentQuestionIndex = 0;
            let score = 0;

            // Calculadora
            const calculatorTabs = document.querySelectorAll('.calculator-tab');
            const calculatorContents = document.querySelectorAll('.calculator-content');
            const calculateImc = document.getElementById('calculateImc');
            const calculateDosage = document.getElementById('calculateDosage');
            const imcResult = document.getElementById('imcResult');
            const dosageResult = document.getElementById('dosageResult');

            // Hist√≥ria Cl√≠nica
            const generateDiagnosis = document.getElementById('generateDiagnosis');
            const saveHistory = document.getElementById('saveHistory');
            const diagnosisResults = document.getElementById('diagnosisResults');
            const historiesList = document.getElementById('historiesList');
            const historyViewModal = document.getElementById('historyViewModal');
            const closeHistoryViewModal = document.getElementById('closeHistoryViewModal');
            const historyViewContent = document.getElementById('historyViewContent');

            // Fun√ß√µes de navega√ß√£o
            function showSection(sectionId) {
                mainSections.forEach(section => {
                    section.style.display = 'none';
                });
                document.getElementById(sectionId).style.display = 'block';
                
                // Atualizando URL com hash para permitir navega√ß√£o por hist√≥rico
                if (sectionId !== 'landingPage') {
                    window.location.hash = sectionId;
                } else {
                    history.pushState("", document.title, window.location.pathname);
                }
            }

            // Implementa√ß√£o do logo como bot√£o home
            logoHome.addEventListener('click', () => {
                showSection('landingPage');
            });

            menuToggle.addEventListener('click', () => {
                mainNav.classList.toggle('active');
            });

            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    const target = item.getAttribute('data-target');
                    showSection(target);
                    mainNav.classList.remove('active');
                });
            });

            featureCards.forEach(card => {
                card.addEventListener('click', () => {
                    const target = card.getAttribute('data-target');
                    showSection(target);
                });
            });
            
            // Funcionalidade dos bot√µes de voltar
            quizBackBtn.addEventListener('click', () => {
                showSection('landingPage');
            });
            
            calculatorBackBtn.addEventListener('click', () => {
                showSection('landingPage');
            });
            
            historyBackBtn.addEventListener('click', () => {
                showSection('landingPage');
            });

            // Fun√ß√µes de Login/Cadastro
            loginBtn.addEventListener('click', () => {
                loginModal.style.display = 'flex';
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
            });

            closeLoginModal.addEventListener('click', () => {
                loginModal.style.display = 'none';
            });

            showRegisterForm.addEventListener('click', (e) => {
                e.preventDefault();
                loginForm.style.display = 'none';
                registerForm.style.display = 'block';
            });

            showLoginForm.addEventListener('click', (e) => {
                e.preventDefault();
                registerForm.style.display = 'none';
                loginForm.style.display = 'block';
            });

            submitLogin.addEventListener('click', () => {
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;

                // Simula√ß√£o de autentica√ß√£o
                const user = users.find(u => u.email === email && u.password === password);
                if (user) {
                    currentUser = user;
                    loginBtn.textContent = user.name;
                    loginModal.style.display = 'none';
                    alert('Login realizado com sucesso!');
                } else {
                    alert('Email ou senha incorretos.');
                }
            });

            submitRegister.addEventListener('click', () => {
                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const password = document.getElementById('registerPassword').value;
                const confirmPassword = document.getElementById('confirmPassword').value;

                // Valida√ß√µes
                if (!name || !email || !password || !confirmPassword) {
                    alert('Por favor, preencha todos os campos.');
                    return;
                }

                if (password !== confirmPassword) {
                    alert('As senhas n√£o coincidem.');
                    return;
                }

                if (users.some(u => u.email === email)) {
                    alert('Este email j√° est√° cadastrado.');
                    return;
                }

                // Cadastro de usu√°rio
                const newUser = { name, email, password };
                users.push(newUser);
                currentUser = newUser;
                loginBtn.textContent = name;
                loginModal.style.display = 'none';
                alert('Cadastro realizado com sucesso!');
            });

            // Tema e Idioma
            themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                themeToggle.textContent = document.body.classList.contains('dark-mode') ? 'üåô' : '‚òÄÔ∏è';
            });

            languageSelector.addEventListener('change', () => {
                const lang = languageSelector.value;
                updateLanguage(lang);
            });

            function updateLanguage(lang) {
                const elements = document.querySelectorAll('[data-lang]');
                elements.forEach(element => {
                    const key = element.getAttribute('data-lang');
                    if (translations[lang] && translations[lang][key]) {
                        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                            element.placeholder = translations[lang][key];
                        } else {
                            element.textContent = translations[lang][key];
                        }
                    }
                });
            }

            // Pesquisa m√©dica com API simulada
            medicalSearch.addEventListener('input', async () => {
                const searchTerm = medicalSearch.value.toLowerCase().trim();
                if (searchTerm.length > 2) {
                    searchResults.innerHTML = '<p>Pesquisando...</p>';
                    searchResults.style.display = 'block';
                    
                    try {
                        const result = await fetchMedicalInfo(searchTerm);
                        
                        if (result.type === 'term') {
                            const term = result.term;
                            const info = result.data;
                            searchResults.innerHTML = `
                                <h3>${term.charAt(0).toUpperCase() + term.slice(1)}</h3>
                                <p><strong>Defini√ß√£o:</strong> ${info.definition}</p>
                                <p><strong>Sinais e Sintomas:</strong> ${info.symptoms}</p>
                                <p><strong>Diagn√≥stico:</strong> ${info.diagnosis}</p>
                                <p><strong>Tratamento:</strong> ${info.treatment}</p>
                                <p><strong>Observa√ß√µes:</strong> ${info.observations}</p>
                            `;
                        } else {
                            searchResults.innerHTML = `<p>${result.data}</p>`;
                        }
                    } catch (error) {
                        searchResults.innerHTML = "<p>Erro ao buscar informa√ß√µes. Por favor, tente novamente.</p>";
                    }
                } else {
                    searchResults.style.display = 'none';
                }
            });

            // Quiz
            function loadQuestion(index) {
                if (index >= quizQuestions.length) {
                    // Quiz finalizado
                    questionText.textContent = `Quiz finalizado! Sua pontua√ß√£o: ${score}/${quizQuestions.length}`;
                    quizOptions.innerHTML = '';
                    nextQuestion.textContent = 'Reiniciar';
                    nextQuestion.onclick = () => {
                        currentQuestionIndex = 0;
                        score = 0;
                        loadQuestion(0);
                    };
                    return;
                }

                const question = quizQuestions[index];
                questionText.textContent = question.question;
                quizOptions.innerHTML = '';
                quizProgress.textContent = `Pergunta ${index + 1}/${quizQuestions.length}`;

                question.options.forEach((option, i) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'quiz-option';
                    optionElement.textContent = option;
                    optionElement.onclick = () => {
                        // Verifica resposta
                        const options = document.querySelectorAll('.quiz-option');
                        options.forEach(opt => {
                            opt.style.pointerEvents = 'none'; // Desabilita cliques
                        });

                        if (i === question.correctAnswer) {
                            optionElement.classList.add('correct');
                            score++;
                        } else {
                            optionElement.classList.add('incorrect');
                            options[question.correctAnswer].classList.add('correct');
                        }

                        // Habilita bot√£o pr√≥xima pergunta
                        nextQuestion.disabled = false;
                    };
                    quizOptions.appendChild(optionElement);
                });

                nextQuestion.disabled = false;
                nextQuestion.onclick = () => {
                    currentQuestionIndex++;
                    loadQuestion(currentQuestionIndex);
                };
            }

            // Inicia o quiz
            loadQuestion(currentQuestionIndex);

            // Calculadora
            calculatorTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    calculatorTabs.forEach(t => t.classList.remove('active'));
                    calculatorContents.forEach(c => c.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(tabId + 'Calculator').classList.add('active');
                });
            });

            calculateImc.addEventListener('click', () => {
                const weight = parseFloat(document.getElementById('weight').value);
                const height = parseFloat(document.getElementById('height').value) / 100; // cm para m

                if (isNaN(weight) || isNaN(height) || weight <= 0 || height <= 0) {
                    imcResult.textContent = 'Por favor, insira valores v√°lidos.';
                    return;
                }

                const imc = weight / (height * height);
                let classification = '';

                if (imc < 18.5) {
                    classification = 'Abaixo do peso';
                } else if (imc < 25) {
                    classification = 'Peso normal';
                } else if (imc < 30) {
                    classification = 'Sobrepeso';
                } else if (imc < 35) {
                    classification = 'Obesidade grau I';
                } else if (imc < 40) {
                    classification = 'Obesidade grau II';
                } else {
                    classification = 'Obesidade grau III';
                }

                imcResult.innerHTML = `<p>IMC: ${imc.toFixed(2)}</p><p>Classifica√ß√£o: ${classification}</p>`;
            });

            calculateDosage.addEventListener('click', () => {
                const medication = document.getElementById('medication').value;
                const weight = parseFloat(document.getElementById('patientWeight').value);
                const age = parseInt(document.getElementById('patientAge').value);

                if (isNaN(weight) || isNaN(age) || weight <= 0 || age < 0) {
                    dosageResult.textContent = 'Por favor, insira valores v√°lidos.';
                    return;
                }

                let dosage = '';
                let instructions = '';

                // C√°lculo de dosagem fict√≠cio (para demonstra√ß√£o)
                switch(medication) {
                    case 'paracetamol':
                        if (age < 12) {
                            dosage = `${(10 * weight).toFixed(0)}-${(15 * weight).toFixed(0)} mg a cada 6-8 horas`;
                            instructions = 'N√£o exceder 5 doses em 24 horas. Dose m√°xima di√°ria: 60 mg/kg.';
                        } else {
                            dosage = '500-1000 mg a cada 6-8 horas';
                            instructions = 'N√£o exceder 4g por dia.';
                        }
                        break;
                    case 'ibuprofen':
                        if (age < 12) {
                            dosage = `${(5 * weight).toFixed(0)}-${(10 * weight).toFixed(0)} mg a cada 6-8 horas`;
                            instructions = 'Administrar com alimentos. Dose m√°xima di√°ria: 40 mg/kg.';
                        } else {
                            dosage = '200-400 mg a cada 6-8 horas';
                            instructions = 'Administrar com alimentos. N√£o exceder 3200 mg por dia.';
                        }
                        break;
                    case 'amoxicillin':
                        if (age < 12) {
                            dosage = `${(20 * weight).toFixed(0)}-${(40 * weight).toFixed(0)} mg a cada 8 horas`;
                            instructions = 'Para infec√ß√µes graves, a dose pode ser aumentada at√© 90 mg/kg/dia.';
                        } else {
                            dosage = '500 mg a cada 8 horas';
                            instructions = 'Para infec√ß√µes graves, 1g a cada 8 horas.';
                        }
                        break;
                }

                dosageResult.innerHTML = `
                    <p><strong>Dosagem recomendada:</strong> ${dosage}</p>
                    <p><strong>Instru√ß√µes:</strong> ${instructions}</p>
                `;
            });

            // Hist√≥ria Cl√≠nica com API de diagn√≥stico
            generateDiagnosis.addEventListener('click', async () => {
                const mainComplaint = document.getElementById('mainComplaint').value;
                const currentIllness = document.getElementById('currentIllness').value;
                const pastHistory = document.getElementById('pastHistory').value;
                const familyHistory = document.getElementById('familyHistory').value;
                const personalHistory = document.getElementById('personalHistory').value;
                
                if (!mainComplaint || !currentIllness) {
                    alert('Por favor, preencha pelo menos a Queixa Principal e a Hist√≥ria da Doen√ßa Atual.');
                    return;
                }

                // Preparando os dados para a an√°lise de diagn√≥stico
                diagnosisResults.style.display = 'none';
                document.getElementById('provisionalDiagnosis').textContent = "Analisando...";
                document.getElementById('definitiveDiagnosis').textContent = "Analisando...";
                document.getElementById('differentialDiagnosis').textContent = "Analisando...";
                document.getElementById('diagnosticAids').textContent = "Analisando...";
                document.getElementById('treatment').textContent = "Analisando...";
                diagnosisResults.style.display = 'block';

                try {
                    // Simula√ß√£o de an√°lise completa dos dados cl√≠nicos
                    // Em um sistema real, isso seria feito por uma API de diagn√≥stico m√©dico
                    
                    // Combinando todos os dados para an√°lise
                    const clinicalData = [
                        mainComplaint, 
                        currentIllness, 
                        pastHistory || "", 
                        familyHistory || "", 
                        personalHistory || ""
                    ].join(" ").toLowerCase();
                    
                    let provisionalDiagnosis, definitiveDiagnosis, differentialDiagnosis, diagnosticAids, treatment;
                    
                    // An√°lise baseada em palavras-chave para simula√ß√£o
                    // Febre + dor de cabe√ßa/corpo -> poss√≠vel infec√ß√£o viral
                    if ((clinicalData.includes('febre') || clinicalData.includes('temperatura')) && 
                        (clinicalData.includes('dor de cabe√ßa') || clinicalData.includes('cefaleia') || 
                         clinicalData.includes('dor no corpo') || clinicalData.includes('mialgia'))) {
                        
                        if (clinicalData.includes('manchas') || clinicalData.includes('erup√ß√£o')) {
                            provisionalDiagnosis = "S√≠ndrome febril exantem√°tica. Poss√≠vel dengue ou chikungunya.";
                            definitiveDiagnosis = "Pendente de exames complementares";
                            differentialDiagnosis = "Dengue, Chikungunya, Zika, Sarampo, Rub√©ola, Rea√ß√£o medicamentosa";
                            diagnosticAids = "Hemograma completo, Sorologia para arboviroses, PCR, Fun√ß√£o hep√°tica, Fun√ß√£o renal";
                            treatment = "Hidrata√ß√£o oral ou venosa conforme necessidade, Antit√©rmicos (Paracetamol), Repouso, Evitar AINEs, Retorno imediato se sinais de alarme";
                        } else if (clinicalData.includes('tosse') || clinicalData.includes('coriza') || clinicalData.includes('espirro')) {
                            provisionalDiagnosis = "S√≠ndrome gripal";
                            definitiveDiagnosis = "Pendente de evolu√ß√£o cl√≠nica e exames";
                            differentialDiagnosis = "Influenza, COVID-19, Resfriado comum, Sinusite";
                            diagnosticAids = "Teste r√°pido para COVID-19, PCR para v√≠rus respirat√≥rios, Radiografia de t√≥rax se sintomas respirat√≥rios graves";
                            treatment = "Sintom√°ticos (Paracetamol), Hidrata√ß√£o, Repouso, Isolamento social, Oseltamivir se indicado";
                        } else {
                            provisionalDiagnosis = "S√≠ndrome febril a esclarecer";
                            definitiveDiagnosis = "Pendente de exames complementares";
                            differentialDiagnosis = "Infec√ß√£o viral, Infec√ß√£o bacteriana, Doen√ßa inflamat√≥ria";
                            diagnosticAids = "Hemograma completo, PCR, VHS, Hemocultura, Urina tipo I";
                            treatment = "Hidrata√ß√£o, Antit√©rmicos, Reavalia√ß√£o em 24-48h ou antes se piora";
                        }
                    } 
                    // Dor abdominal -> poss√≠veis problemas gastrointestinais
                    else if (clinicalData.includes('dor') && (clinicalData.includes('abdomen') || clinicalData.includes('barriga') || clinicalData.includes('est√¥mago'))) {
                        if (clinicalData.includes('v√¥mito') || clinicalData.includes('n√°usea') || clinicalData.includes('enj√¥o')) {
                            provisionalDiagnosis = "Gastroenterite aguda";
                            definitiveDiagnosis = "Pendente de evolu√ß√£o e exames";
                            differentialDiagnosis = "Gastroenterite viral/bacteriana, Intoxica√ß√£o alimentar, Apendicite, Colecistite";
                            diagnosticAids = "Hemograma, Fun√ß√£o hep√°tica, Lipase/Amilase, Ultrassonografia abdominal se dor persistente";
                            treatment = "Hidrata√ß√£o, Antiem√©ticos se necess√°rio, Protetores g√°stricos, Dieta leve";
                        } else if (clinicalData.includes('diarreia')) {
                            provisionalDiagnosis = "Gastroenterocolite aguda";
                            definitiveDiagnosis = "Pendente de exames";
                            differentialDiagnosis = "Infec√ß√£o intestinal, Intoler√¢ncia alimentar, Doen√ßa inflamat√≥ria intestinal";
                            diagnosticAids = "Coprocultura, Parasitol√≥gico de fezes, Pesquisa de toxinas de C. difficile se hist√≥rico de antibioticoterapia";
                            treatment = "Hidrata√ß√£o, Probi√≥ticos, Antidiarreicos com cautela, Investigar fontes alimentares";
                        } else {
                            provisionalDiagnosis = "Dor abdominal a esclarecer";
                            definitiveDiagnosis = "Pendente de avalia√ß√£o complementar";
                            differentialDiagnosis = "Dispepsia, Doen√ßa ulcerosa p√©ptica, S√≠ndrome do intestino irrit√°vel, Patologia biliar";
                            diagnosticAids = "Endoscopia digestiva alta, Ultrassonografia abdominal, Exames laboratoriais b√°sicos";
                            treatment = "Inibidores de bomba de pr√≥tons, Antiespasm√≥dicos, Orienta√ß√µes diet√©ticas";
                        }
                    }
                    // Dor tor√°cica -> poss√≠veis problemas cardiovasculares ou respirat√≥rios
                    else if (clinicalData.includes('dor') && (clinicalData.includes('tor√°cica') || clinicalData.includes('peito') || clinicalData.includes('t√≥rax'))) {
                        if (clinicalData.includes('falta de ar') || clinicalData.includes('dispneia') || clinicalData.includes('respira√ß√£o')) {
                            provisionalDiagnosis = "Dor tor√°cica com dispneia - investigar etiologia cardiopulmonar";
                            definitiveDiagnosis = "Pendente de exames";
                            differentialDiagnosis = "S√≠ndrome coronariana aguda, Tromboembolismo pulmonar, Pneumonia, Pericardite, Pneumot√≥rax";
                            diagnosticAids = "ECG, Troponina, D-d√≠mero, Radiografia de t√≥rax, Ecocardiograma";
                            treatment = "Oxigenoterapia se hipoxemia, Analgesia, Abordagem espec√≠fica conforme etiologia";
                        } else if (clinicalData.includes('palpita√ß√£o') || clinicalData.includes('cora√ß√£o acelerado')) {
                            provisionalDiagnosis = "Dor tor√°cica com palpita√ß√µes - suspeita de arritmia";
                            definitiveDiagnosis = "Pendente de avalia√ß√£o card√≠aca";
                            differentialDiagnosis = "Taquiarritmia, S√≠ndrome coronariana, Ansiedade, Hipertireoidismo";
                            diagnosticAids = "ECG, Holter 24h, Ecocardiograma, Fun√ß√£o tireoidiana";
                            treatment = "Controle de frequ√™ncia card√≠aca, Investiga√ß√£o etiol√≥gica, Tratamento espec√≠fico ap√≥s diagn√≥stico";
                        } else {
                            provisionalDiagnosis = "Dor tor√°cica a esclarecer";
                            definitiveDiagnosis = "Pendente de investiga√ß√£o";
                            differentialDiagnosis = "Origem musculoesquel√©tica, Refluxo gastroesof√°gico, Ansiedade, Origem cardiovascular";
                            diagnosticAids = "ECG, Radiografia de t√≥rax, Exames laboratoriais b√°sicos";
                            treatment = "Analg√©sicos, Avalia√ß√£o de fatores de risco cardiovascular";
                        }
                    }
                    // Cefaleia -> poss√≠veis tipos de dor de cabe√ßa
                    else if (clinicalData.includes('dor de cabe√ßa') || clinicalData.includes('cefaleia')) {
                        if (clinicalData.includes('enxaqueca') || clinicalData.includes('aura') || clinicalData.includes('v√¥mito')) {
                            provisionalDiagnosis = "Enxaqueca";
                            definitiveDiagnosis = "Baseado na hist√≥ria cl√≠nica t√≠pica";
                            differentialDiagnosis = "Cefaleia tensional, Cefaleia em salvas, Neuralgia do trig√™meo";
                            diagnosticAids = "Diagn√≥stico cl√≠nico, Neuroimagem apenas se apresenta√ß√£o at√≠pica ou sinais de alarme";
                            treatment = "Analg√©sicos, Antiem√©ticos, Triptanos para crises, Profilaxia se crises frequentes, Evitar gatilhos";
                        } else if (clinicalData.includes('tens√£o') || clinicalData.includes('estresse') || clinicalData.includes('press√£o')) {
                            provisionalDiagnosis = "Cefaleia tensional";
                            definitiveDiagnosis = "Baseado em crit√©rios cl√≠nicos";
                            differentialDiagnosis = "Enxaqueca sem aura, Cefaleia por uso excessivo de medicamentos";
                            diagnosticAids = "Diagn√≥stico cl√≠nico, Exames complementares apenas se sinais de alarme";
                            treatment = "Analg√©sicos comuns, T√©cnicas de relaxamento, Fisioterapia, Manejo do estresse";
                        } else if (clinicalData.includes('s√∫bita') || clinicalData.includes('intensa') || clinicalData.includes('pior da vida')) {
                            provisionalDiagnosis = "Cefaleia s√∫bita intensa - emerg√™ncia neurol√≥gica";
                            definitiveDiagnosis = "Pendente de investiga√ß√£o urgente";
                            differentialDiagnosis = "Hemorragia subaracn√≥idea, Dissec√ß√£o arterial, Trombose venosa cerebral, Meningite";
                            diagnosticAids = "TC de cr√¢nio urgente, Pun√ß√£o lombar se TC normal, Angiografia cerebral";
                            treatment = "Monitoriza√ß√£o neurol√≥gica, Analgesia, Abordagem espec√≠fica conforme etiologia";
                        } else {
                            provisionalDiagnosis = "Cefaleia a esclarecer";
                            definitiveDiagnosis = "Pendente de avalia√ß√£o complementar";
                            differentialDiagnosis = "Cefaleia prim√°ria (tensional, enxaqueca), Cefaleia secund√°ria (sinusite, hipertens√£o, tumor)";
                            diagnosticAids = "Avalia√ß√£o cl√≠nica, Exames complementares se sinais de alarme ou persist√™ncia";
                            treatment = "Analg√©sicos, Di√°rio de cefaleia, Investiga√ß√£o de fatores desencadeantes";
                        }
                    }
                    // Tosse -> poss√≠veis problemas respirat√≥rios
                    else if (clinicalData.includes('tosse')) {
                        if (clinicalData.includes('catarro') || clinicalData.includes('expectora√ß√£o') || clinicalData.includes('secre√ß√£o')) {
                            provisionalDiagnosis = "Infec√ß√£o respirat√≥ria com secre√ß√£o";
                            definitiveDiagnosis = "Pendente de avalia√ß√£o complementar";
                            differentialDiagnosis = "Bronquite aguda, Pneumonia, Sinusite com gotejamento p√≥s-nasal, DPOC exacerbada";
                            diagnosticAids = "Radiografia de t√≥rax, Hemograma, Cultura de escarro se necess√°rio";
                            treatment = "Hidrata√ß√£o, Mucol√≠ticos, Antibi√≥ticos se indicado, Broncodilatadores se broncoespasmo";
                        } else if (clinicalData.includes('seca') || clinicalData.includes('irritativa')) {
                            provisionalDiagnosis = "Tosse seca/irritativa";
                            definitiveDiagnosis = "Pendente de avalia√ß√£o";
                            differentialDiagnosis = "Infec√ß√£o viral, Asma, Refluxo gastroesof√°gico, Efeito adverso de medicamentos (ex: IECA)";
                            diagnosticAids = "Radiografia de t√≥rax, Espirometria, pHmetria esof√°gica se suspeita de refluxo";
                            treatment = "Antituss√≠genos, Corticosteroides inalat√≥rios se componente al√©rgico/hiperreatividade";
                        } else if (clinicalData.includes('sangue') || clinicalData.includes('hemoptise')) {
                            provisionalDiagnosis = "Hemoptise - investigar etiologia";
                            definitiveDiagnosis = "Pendente de investiga√ß√£o urgente";
                            differentialDiagnosis = "Bronquite, Tuberculose, C√¢ncer pulmonar, Bronquiectasias, TEP";
                            diagnosticAids = "Radiografia e TC de t√≥rax, Broncoscopia, Pesquisa de BAAR no escarro";
                            treatment = "Controle do sangramento, Investiga√ß√£o urgente da causa, Tratamento espec√≠fico";
                        } else {
                            provisionalDiagnosis = "Tosse a esclarecer";
                            definitiveDiagnosis = "Pendente de avalia√ß√£o";
                            differentialDiagnosis = "Infec√ß√£o respirat√≥ria, Asma, DPOC, Refluxo, Uso de medicamentos";
                            diagnosticAids = "Radiografia de t√≥rax, Hemograma, Avalia√ß√£o de fun√ß√£o pulmonar";
                            treatment = "Sintom√°ticos, Investiga√ß√£o etiol√≥gica, Tratamento espec√≠fico ap√≥s diagn√≥stico";
                        }
                    }
                    // Diagn√≥stico gen√©rico para outros casos
                    else {
                        provisionalDiagnosis = "Condi√ß√£o a esclarecer";
                        definitiveDiagnosis = "Pendente de avalia√ß√£o complementar";
                        differentialDiagnosis = "M√∫ltiplas possibilidades a serem avaliadas baseadas na evolu√ß√£o cl√≠nica";
                        diagnosticAids = "Exames laboratoriais b√°sicos, Exames de imagem conforme sinais e sintomas, Avalia√ß√£o seriada";
                        treatment = "Sintom√°ticos, Acompanhamento cl√≠nico, Abordagem espec√≠fica ap√≥s conclus√£o diagn√≥stica";
                    }

                    // Exibir resultados
                    document.getElementById('provisionalDiagnosis').textContent = provisionalDiagnosis;
                    document.getElementById('definitiveDiagnosis').textContent = definitiveDiagnosis;
                    document.getElementById('differentialDiagnosis').textContent = differentialDiagnosis;
                    document.getElementById('diagnosticAids').textContent = diagnosticAids;
                    document.getElementById('treatment').textContent = treatment;
                    
                } catch (error) {
                    alert('Erro ao gerar diagn√≥stico. Por favor, tente novamente.');
                    diagnosisResults.style.display = 'none';
                }
            });

            saveHistory.addEventListener('click', () => {
                const patientName = document.getElementById('patientName').value;
                const patientAge = document.getElementById('patientAge2').value;
                const patientGender = document.getElementById('patientGender').value;
                const mainComplaint = document.getElementById('mainComplaint').value;
                const currentIllness = document.getElementById('currentIllness').value;
                const pastHistory = document.getElementById('pastHistory').value;
                const familyHistory = document.getElementById('familyHistory').value;
                const personalHistory = document.getElementById('personalHistory').value;

                if (!patientName || !mainComplaint || !currentIllness) {
                    alert('Por favor, preencha pelo menos o Nome do Paciente, Queixa Principal e Hist√≥ria da Doen√ßa Atual.');
                    return;
                }

                if (diagnosisResults.style.display === 'none') {
                    alert('Por favor, gere um diagn√≥stico antes de salvar a hist√≥ria cl√≠nica.');
                    return;
                }

                const provisionalDiagnosis = document.getElementById('provisionalDiagnosis').textContent;
                const definitiveDiagnosis = document.getElementById('definitiveDiagnosis').textContent;
                const differentialDiagnosis = document.getElementById('differentialDiagnosis').textContent;
                const diagnosticAids = document.getElementById('diagnosticAids').textContent;
                const treatment = document.getElementById('treatment').textContent;

                const newHistory = {
                    id: Date.now(),
                    date: new Date().toLocaleDateString(),
                    patientName,
                    patientAge,
                    patientGender,
                    mainComplaint,
                    currentIllness,
                    pastHistory,
                    familyHistory,
                    personalHistory,
                    provisionalDiagnosis,
                    definitiveDiagnosis,
                    differentialDiagnosis,
                    diagnosticAids,
                    treatment
                };

                savedHistories.push(newHistory);
                updateHistoriesList();
                alert('Hist√≥ria cl√≠nica salva com sucesso!');
                
                // Limpar campos ap√≥s salvar
                document.getElementById('patientName').value = '';
                document.getElementById('patientAge2').value = '';
                document.getElementById('mainComplaint').value = '';
                document.getElementById('currentIllness').value = '';
                document.getElementById('pastHistory').value = '';
                document.getElementById('familyHistory').value = '';
                document.getElementById('personalHistory').value = '';
                diagnosisResults.style.display = 'none';
            });

            function updateHistoriesList() {
                historiesList.innerHTML = '';
                
                if (savedHistories.length === 0) {
                    historiesList.innerHTML = '<p>Nenhuma hist√≥ria cl√≠nica salva ainda.</p>';
                    return;
                }

                savedHistories.forEach(history => {
                    const historyCard = document.createElement('div');
                    historyCard.className = 'history-card';
                    historyCard.innerHTML = `
                        <h4>${history.patientName}</h4>
                        <p>Data: ${history.date}</p>
                        <p>Queixa Principal: ${history.mainComplaint.substring(0, 30)}${history.mainComplaint.length > 30 ? '...' : ''}</p>
                    `;
                    historyCard.onclick = () => {
                        viewHistory(history);
                    };
                    historiesList.appendChild(historyCard);
                });
            }

            function viewHistory(history) {
                historyViewContent.innerHTML = `
                    <div class="history-section">
                        <h3>Identifica√ß√£o do Paciente</h3>
                        <p><strong>Nome:</strong> ${history.patientName}</p>
                        <p><strong>Idade:</strong> ${history.patientAge}</p>
                        <p><strong>G√™nero:</strong> ${history.patientGender}</p>
                        <p><strong>Data:</strong> ${history.date}</p>
                    </div>
                    <div class="history-section">
                        <h3>Queixa Principal</h3>
                        <p>${history.mainComplaint}</p>
                    </div>
                    <div class="history-section">
                        <h3>Hist√≥ria da Doen√ßa Atual</h3>
                        <p>${history.currentIllness}</p>
                    </div>
                    <div class="history-section">
                        <h3>Hist√≥ria Patol√≥gica Pregressa</h3>
                        <p>${history.pastHistory || 'N√£o informado'}</p>
                    </div>
                    <div class="history-section">
                        <h3>Hist√≥ria Familiar</h3>
                        <p>${history.familyHistory || 'N√£o informado'}</p>
                    </div>
                    <div class="history-section">
                        <h3>Hist√≥ria Pessoal</h3>
                        <p>${history.personalHistory || 'N√£o informado'}</p>
                    </div>
                    <div class="history-section">
                        <h3>Diagn√≥stico</h3>
                        <p><strong>Diagn√≥stico Provis√≥rio:</strong> ${history.provisionalDiagnosis}</p>
                        <p><strong>Diagn√≥stico Definitivo:</strong> ${history.definitiveDiagnosis}</p>
                        <p><strong>Diagn√≥stico Diferencial:</strong> ${history.differentialDiagnosis}</p>
                        <p><strong>Meios Auxiliares de Diagn√≥stico:</strong> ${history.diagnosticAids}</p>
                        <p><strong>Tratamento:</strong> ${history.treatment}</p>
                    </div>
                `;
                historyViewModal.style.display = 'flex';
            }

            closeHistoryViewModal.addEventListener('click', () => {
                historyViewModal.style.display = 'none';
            });
            
            // Manipula√ß√£o do hist√≥rico do navegador para funcionalidade SPA
            window.addEventListener('popstate', function(e) {
                if (window.location.hash) {
                    const targetId = window.location.hash.substring(1);
                    if (document.getElementById(targetId)) {
                        showSection(targetId);
                    }
                } else {
                    showSection('landingPage');
                }
            });

            // Verifica se h√° hash na URL ao carregar a p√°gina
            if (window.location.hash) {
                const targetId = window.location.hash.substring(1);
                if (document.getElementById(targetId)) {
                    showSection(targetId);
                }
            }

            // Inicializa√ß√£o
            updateLanguage('pt');
            updateHistoriesList();
        });
    </script>
</body>
</html>
